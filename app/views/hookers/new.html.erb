<div class="container">
  <%= simple_form_for @hooker do |f| %>
  <%= f.input :name, :placeholder => "The Mermaid of The Night",:label => "Your hooker nickname" %>
  <%= f.input :address, :placeholder => "Enter your address" %>
  <%= f.input :short_description, :label => "Write a short description (max. 60 chars.)" %>
  <%= f.input :long_description, :label => "Tell us about yourself (max. 700 chars.)" %>
  <%= f.input :price, :label => "What's the price you want to charge per hour" %>
  <%= f.input :profile_picture %>
  <%= f.input :profile_picture_cache, as: :hidden %>
  <%= f.submit %>
  <% end %>
</div>
<% content_for(:after_js) do %>
  <script type="text/javascript">


$(document).ready(function () {
        initialize();


//var placeSearch, autocomplete;
});
function initialize() {
    // Create the autocomplete object, restricting the search
    // to geographical location types.
    autocomplete = new google.maps.places.Autocomplete(
    /** @type {HTMLInputElement} */
    (document.getElementById('hooker_address')), {
        types: ['geocode']
    });

    google.maps.event.addDomListener(document.getElementById('hooker_address'), 'focus', geolocate);
}

function geolocate() {

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {

            var geolocation = new google.maps.LatLng(
            position.coords.latitude, position.coords.longitude);
            var circle = new google.maps.Circle({
                center: geolocation,
                radius: position.coords.accuracy
            });
            autocomplete.setBounds(circle.getBounds());

            // Log autocomplete bounds here
            console.log(autocomplete.getBounds());
        });
    }
}



  </script>
<% end %>
