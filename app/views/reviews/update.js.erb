// app/views/reviews/create.js.erb
// Here you will write *javascript* that would be executed by the browser
<% if @review.errors.any? %>
  // Render new review form with errors
  $('#new_review').html("<%= j render 'reviews/form', hooker: @hooker, review: @review %>");
<% else %>

  $('#edit-modal').modal('hide');
  $('.modal-backdrop').hide();
  $('body').removeClass('modal-open');

  // Create a paragraph for the new review. But hide it.
  var new_review = $("<%= j render 'reviews/show', review: @review %>");
  // Add it to the DOM, at the end of the existing reviews. It's still hidden.
  $('[data-review-id=<%= @review.id %>]').html(new_review);
  // Show the new review with an animation!
  // Reset the form
<% end %>
